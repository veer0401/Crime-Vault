@{
    ViewData["Title"] = "Team Details";
}

<h2 id="teamName"></h2>
<p><strong>Team Leader:</strong> <span id="teamLeader"></span></p>

<h3>Team Members</h3>
<ul id="teamMembers"></ul>

<a asp-action="Index">Back to Teams</a>

<script>
    document.addEventListener("DOMContentLoaded", function () {
        const teamId = "@ViewBag.TeamId"; // Get team ID from Razor ViewBag

        fetch(`/api/TeamApi/details/${teamId}`)
            .then(response => response.json())
            .then(data => {
                document.getElementById("teamName").innerText = data.name;
                document.getElementById("teamLeader").innerText = data.teamLeader;

                let membersList = document.getElementById("teamMembers");
                membersList.innerHTML = "";

                data.members.forEach(member => {
                    let li = document.createElement("li");
                    li.innerText = member.fullName;
                    membersList.appendChild(li);
                });
            })
            .catch(error => console.error("Error fetching team details:", error));
    });
</script>
